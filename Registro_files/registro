function PagoSecundario(){var n,t,i=$("#tipoPago2").val();if($("#chkPago2").is(":checked")||$("#chkPago21").is(":checked"))switch(i){case"1":return t=validaDomiciliado2(),t==!0?!0:!1;case"2":return n=validaTarjeta2(),n==!0?!0:!1}else return!0}function validaFecha(n,t,i){var u=parseInt(n),r=parseInt(t),f=parseInt(i),e;return r<1||r>12?!1:u<1||u>31||(r==4||r==6||r==9||r==11)&&u==31||r==2&&(e=f%4==0&&(f%100!=0||f%400==0),u>29||u==29&&!e)?!1:!0}function esPersonaFisica(){return $("#tipoPer").val()=="1"}function validaRFC(){var n=esPersonaFisica()?"txtRfc":"txtRfcE",t=!1,i=$("#"+n).val().substr(0,esPersonaFisica()?4:3),r=$("#"+n).val().substr(esPersonaFisica()?4:3,6),u=$("#"+n).val().substr(esPersonaFisica()?4:3,2),f=$("#"+n).val().substr(esPersonaFisica()?6:5,2),e=$("#"+n).val().substr(esPersonaFisica()?8:7,2),o=$("#"+n).val().substr(esPersonaFisica()?10:9,3),s=esPersonaFisica()?/([A-Z]){4}/:/([A-Z]){3}/,h=/([0-9]|[A-Z]){3}/,c=/([0-9]){6}/;return $("#spErrorRFCFisica").hide(),$("#spErrorRFCMoral").hide(),t=i.match(s)&&o.match(h)&&r.match(c)&&validaFecha(e,f,u),(t==null?!1:t)||(esPersonaFisica()?$("#spErrorRFCFisica").show():$("#spErrorRFCMoral").show()),t==null?!1:t}function validaPersona(){var u=$("#tipoPer").val(),n=$("#txtNombre").val(),t=$("#txtPaterno").val(),i=$("#txtMaterno").val(),r=$("#txtRfc").val();return valnombre[0].style.display=n.length==0?"block":"none",valPaterno[0].style.display=t.length==0?"block":"none",valMaterno[0].style.display=i.length==0?"block":"none",valRfc[0].style.display=r.length==0?"block":"none",n.length!=0&&t.length!=0&&i.length!=0&&r.length!=0?validaRFC():!1}function validaEmpresa(){var n=$("#txtPaternoE").val(),t=$("#txtContacto").val(),i=$("#txtRfcE").val();return valPaternoE[0].style.display=n.length==0?"block":"none",valContacto[0].style.display=t.length==0?"block":"none",valRfcE[0].style.display=i.length==0?"block":"none",n.length!=0&&t.length!=0&&i.length!=0?validaRFC():!1}function validaTarjeta1(){var t=$("#ddlRecarga").val(),i=$("#txtTitular1").val(),r=$("#ddlMes1").val(),u=$("#ddlAnio1").val(),f=$("#ddlTipoTarj1").val(),e=$("#txtNumTarj1").val(),o=$("#txtCodTarj1").val(),n=$("#lblValCat"),v=$("#lblValTitular1"),s=$("#lblValMes1"),h=$("#lblValAnio1"),c=$("#lblValTipoTarjeta1"),l=$("#lblValNumTarjeta1"),a=$("#lblValCodtarjeta1");return n[0].style.display=t.length==0?"block":"none",i.length==0?n[0].style.display="block":v[0].style.display="none",s[0].style.display=r.length==0?"block":"none",h[0].style.display=u.length==0?"block":"none",c[0].style.display=f.length==0?"block":"none",l[0].style.display=e.length==0?"block":"none",a[0].style.display=o.length==0?"block":"none",t.length!=0&&i.length!=0&&r.length!=0&&u.length!=0&&f.length!=0&&e.length!=0&&o.length!=0?!0:!1}function validaTarjeta2(){var n=$("#txtTitular2").val(),t=$("#ddlMes2").val(),i=$("#ddlAnio2").val(),r=$("#ddlTipoTarj2").val(),u=$("#txtNumTarj2").val(),f=$("#txtCodTarj2").val(),e=$("#lblValTitular2"),o=$("#lblValMes2"),s=$("#lblValAnio2"),h=$("#lblValTipoTarjeta2"),c=$("#lblValNumTarjeta2"),l=$("#lblValCodtarjeta2");return e[0].style.display=n.length==0?"block":"none",o[0].style.display=t.length==0?"block":"none",s[0].style.display=i.length==0?"block":"none",h[0].style.display=r.length==0?"block":"none",c[0].style.display=u.length==0?"block":"none",l[0].style.display=f.length==0?"block":"none",n.length!=0&&t.length!=0&&i.length!=0&&r.length!=0&&u.length!=0&&f.length!=0?!0:!1}function validaDomiciliado1(){var n=$("#ddlRecarga").val(),t=$("#txtCodBanco1").val(),i=$("#txtCodPlaza1").val(),r=$("#txtDigControl1").val(),u=$("#txtNumCuenta1").val(),f=$("#lblValCat"),e=$("#lblValCodBanco1"),o=$("#lblValCodPlaza1"),s=$("#lblValDigControl1"),h=$("#lblValNumCuenta1");return f[0].style.display=n.length==0?"block":"none",e[0].style.display=t.length==0?"block":"none",o[0].style.display=i.length==0?"block":"none",s[0].style.display=r.length==0?"block":"none",h[0].style.display=u.length==0?"block":"none",n.length!=0&&t.length!=0&&i.length!=0&&r.length!=0&&u.length!=0?!0:!1}function validaDomiciliado2(){var n=$("#txtCodBanco2").val(),t=$("#txtCodPlaza2").val(),i=$("#txtDigControl2").val(),r=$("#txtNumCuenta2").val(),u=$("#lblValCodBanco2"),f=$("#lblValCodPlaza2"),e=$("#lblValDigControl2"),o=$("#lblValNumCuenta2");return u[0].style.display=n.length==0?"block":"none",f[0].style.display=t.length==0?"block":"none",e[0].style.display=i.length==0?"block":"none",o[0].style.display=r.length==0?"block":"none",n.length!=0&&t.length!=0&&i.length!=0&&r.length!=0?!0:!1}var valnombre=$("#lblValNombre"),valPaterno=$("#lblValPaterno"),valMaterno=$("#lblValMaterno"),valRfc=$("#lblValRfc"),valPaternoE=$("#lblValPaternoE"),valContacto=$("#lblValContacto"),valRfcE=$("#lblValRfcE");$("#btnCancelar").click(function(n){n.preventDefault(),window.location.href="../Account/Login"}),$("#lnkValida").click(function(n){var r,u,f,e,i;validaDireccion($("#txtCalle").val())?$("#spErrorCalle").hide():($("#spErrorCalle").show(),n.preventDefault());var s=$("#tipoPer").val(),h=$("#tipoPago").val(),c=$("#chkPago2").val(),l=$("#txtTitular1").val(),a=$("#ddlMes1").val(),v=$("#ddlAnio1").val(),y=$("#ddlTipoTarj1").val(),p=$("#txtNumTarj1").val(),w=$("#txtCodTarj1").val(),t=!1,o=$("#txtNumTagR").val();if(o.substring(0,4)=="OHLM"&&o.length!=12||o.substring(0,3)=="099"&&o.length!=11)return t=!1;switch(h+"|"+s){case"1|1":r=validaPersona(),e=validaDomiciliado1(),r==!0&&e==!0?(i=PagoSecundario(),i==!0?t=!0:(n.preventDefault(),t=!1)):(n.preventDefault(),t=!1);break;case"1|2":u=validaEmpresa(),e=validaDomiciliado1(),u==!0&&e==!0?(i=PagoSecundario(),i==!0?t=!0:(n.preventDefault(),t=!1)):(n.preventDefault(),t=!1);break;case"2|1":r=validaPersona(),f=validaTarjeta1(),r==!0&&f==!0?(i=PagoSecundario(),i==!0?t=!0:(n.preventDefault(),t=!1)):(n.preventDefault(),t=!1);break;case"2|2":u=validaEmpresa(),f=validaTarjeta1(),u==!0&&f==!0?(i=PagoSecundario(),i==!0?t=!0:(n.preventDefault(),t=!1)):(n.preventDefault(),t=!1);break;case"3|1":r=validaPersona(),r==!0?t=!0:(n.preventDefault(),t=!1);break;case"3|2":u=validaEmpresa(),u==!0?t=!0:(n.preventDefault(),t=!1)}return t}),$(document).ready(function(){$("#tipoEsquemaCta").val()==4&&$("#pestana1").hide(),$("#ddlRecarga").change(function(){var n=$("#ddlRecarga").val();$.ajax({url:"/Registro/DatosRecarga",data:{idCatRec:n},type:"post",cache:!1,success:function(n){n!=null&&($("#txtRecarga").val(n[0]),$("#txtUmbral").val(n[1]))}})}),$("#tipoPer").change(function(){var i=$(this).val(),n=$("#persona")[0],t=$("#empresa")[0],r=$("#txtNombre"),u=$("#txtPaterno"),f=$("#txtMaterno"),e=$("#txtRfc"),o=$("#txtPaternoE"),s=$("#txtRfcE"),h=$("#txtContacto");$(".empresa").each(function(c,l){$(l).val(""),i==1?($(l).attr("disabled",!1),n.style.display="block",t.style.display="none",h.val(""),o.val(""),s.val("")):($(l).attr("disabled",!1),n.style.display="none",t.style.display="block",r.val(""),u.val(""),f.val(""),e.val(""))})}),$("#tipoPago").change(function(){var u=$(this).val(),n=$("#pagoNoManual")[0],t=$("#pago1")[0],i=$("#tarjeta1")[0],r=$("#domiciliado1")[0],f=$("#RdoVisa1"),e=$("#lblValTitular1")[0].style.display="none",o=$("#lblValMes1")[0].style.display="none",s=$("#lblValAnio1")[0].style.display="none",h=$("#lblValTipoTarjeta1")[0].style.display="none",c=$("#lblValNumTarjeta1")[0].style.display="none",l=$("#lblValCodtarjeta1")[0].style.display="none",a=$("#lblValCodBanco1")[0].style.display="none",v=$("#lblValCodPlaza1")[0].style.display="none",y=$("#lblValDigControl1")[0].style.display="none",p=$("#lblValNumCuenta1")[0].style.display="none";switch(u){case"1":n.style.display="block",t.style.display="block",i.style.display="none",r.style.display="block",$("#chkPago2").removeAttr("disabled"),$("#chkPago2").change(),$("#chkPago21").removeAttr("disabled"),$("#chkPago21").change();break;case"2":n.style.display="block",t.style.display="block",i.style.display="block",r.style.display="none",$("#chkPago2").removeAttr("disabled"),$("#chkPago2").change(),f.attr("checked",!0);break;case"3":n.style.display="none",t.style.display="none",i.style.display="none",r.style.display="none",$("#chkPago2").attr("checked",!1),$("#chkPago2").attr("disabled","disabled"),$("#chkPago2").change(),$("#chkPago21").attr("checked",!1),$("#chkPago21").attr("disabled","disabled"),$("#chkPago21").change()}}),$("#tipoPago").change();var n=$("#pago2")[0];$("#chkPago2").change(function(){n.style.display=$("#chkPago2").is(":checked")?"block":"none"}),$("#chkPago21").change(function(){n.style.display=$("#chkPago21").is(":checked")?"block":"none"}),$("#tipoPago2").change(function(){var i=$(this).val(),n=$("#tarjeta2")[0],t=$("#domiciliado2")[0];switch(i){case"1":n.style.display="none",t.style.display="block";break;case"2":n.style.display="block",t.style.display="none";break;case"3":n.style.display="none",t.style.display="none"}}),$("#tipoPago2").change()})